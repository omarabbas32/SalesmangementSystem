# ุฅุตูุงุญุงุช ุงููุณุฎ ุงูุงุญุชูุงุทู - Sales Management System

## ุงููุดุงูู ุงูุชู ุชู ุฅุตูุงุญูุง โ

### 1. ูุดููุฉ ุชุฑุชูุจ Routes ูู server.js
**ุงููุดููุฉ:** 
- ูุงูุช backup routes ููุฌูุฏุฉ ุจุนุฏ 404 handler
- ูู ุชูู ูุชุงุญุฉ ูููุตูู

**ุงูุญู:**
- ููู backup routes ูุจู 404 handler
- ุฅุนุงุฏุฉ ุชุฑุชูุจ routes ุจุงูุดูู ุงูุตุญูุญ

### 2. ูุดููุฉ MongoDB Connection Timeout
**ุงููุดููุฉ:**
- ุนุฏู ูุฌูุฏ timeout ููุงุชุตุงู ุจู MongoDB
- ุงููุธุงู ูุชููู ุนูุฏ ุนุฏู ุชููุฑ MongoDB

**ุงูุญู:**
- ุฅุถุงูุฉ timeout ููุงุชุตุงู (5 ุซูุงู)
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุงุชุตุงู ุจุดูู ุฃูุถู

### 3. ุนุฏู ูุฌูุฏ ูุณุฎ ุงุญุชูุงุทู ูุญูู
**ุงููุดููุฉ:**
- ุงููุธุงู ูุนุชูุฏ ุนูู MongoDB ููุท ูููุณุฎ ุงูุงุญุชูุงุทู
- ูุง ููุฌุฏ ุจุฏูู ุนูุฏ ุนุฏู ุชููุฑ MongoDB

**ุงูุญู:**
- ุฅุถุงูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู
- ุฅุถุงูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุฐูู

---

## ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ุงููุถุงูุฉ ๐

### 1. ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู
**Endpoint:** `POST /api/backup/local`
- ูุนูู ุจุฏูู MongoDB
- ููุดุฆ ูุณุฎ ุงุญุชูุงุทู ูู ูุฌูุฏ `data/backups/`
- ูุชุถูู ุฌููุน ุงูุจูุงูุงุช (ููุชุฌุงุชุ ูุจูุนุงุชุ ูุตุฑููุงุชุ ุชุนุฏููุงุช)

### 2. ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุฐูู
**Endpoint:** `POST /api/backup/smart`
- ูุชุญูู ูู ุชููุฑ MongoDB ุฃููุงู
- ูุณุชุฎุฏู MongoDB ุฅุฐุง ูุงู ูุชุงุญ
- ูุณุชุฎุฏู ุงููุณุฎ ุงููุญูู ุฅุฐุง ูู ููู MongoDB ูุชุงุญ

### 3. ุชุญุณูู ูุญุต ุงูุงุชุตุงู
**Endpoint:** `GET /api/backup/status`
- timeout ูุญุณู ููุงุชุตุงู
- ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
- ุงูุชุฑุงุญุงุช ูุญู ุงููุดุงูู

---

## ููููุฉ ุงูุงุณุชุฎุฏุงู

### 1. ูุญุต ุญุงูุฉ MongoDB
```bash
curl -X GET "http://localhost:3000/api/backup/status"
```

**ุงููุชูุฌุฉ ุนูุฏ ุนุฏู ุชููุฑ MongoDB:**
```json
{
  "success": true,
  "data": {
    "connected": false,
    "message": "ุฎุทุฃ ูู ุงูุงุชุตุงู ุจู MongoDB",
    "error": "Cannot overwrite `Product` model once compiled.",
    "lastChecked": "2025-10-10T15:36:54.574Z",
    "suggestion": "ุชุฃูุฏ ูู ุชุดุบูู MongoDB ุฃู ุชุญูู ูู ูุชุบูุฑ ุงูุจูุฆุฉ MONGODB_URI"
  }
}
```

### 2. ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู
```bash
curl -X POST "http://localhost:3000/api/backup/local"
```

**ุงููุชูุฌุฉ:**
```json
{
  "success": true,
  "message": "ุชู ุฅูุดุงุก ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู ุจูุฌุงุญ",
  "dataSummary": {
    "products": 1,
    "sales": 1,
    "expenses": 1,
    "adjustments": 2
  },
  "backupFile": "E:\\salesManegmentSystem\\data\\backups\\backup-2025-10-10T15-36-54-574Z.json",
  "timestamp": "2025-10-10T15:36:54.574Z"
}
```

### 3. ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุฐูู
```bash
curl -X POST "http://localhost:3000/api/backup/smart"
```

**ุงููุชูุฌุฉ (ุนูุฏ ุนุฏู ุชููุฑ MongoDB):**
```json
{
  "success": true,
  "message": "ุชู ุฅูุดุงุก ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู ุจูุฌุงุญ",
  "dataSummary": {
    "products": 1,
    "sales": 1,
    "expenses": 1,
    "adjustments": 2
  },
  "backupFile": "E:\\salesManegmentSystem\\data\\backups\\backup-2025-10-10T15-36-54-574Z.json",
  "timestamp": "2025-10-10T15:36:54.574Z"
}
```

---

## Endpoints ุงูุฌุฏูุฏุฉ

### ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญุณู:
- `GET /api/backup/status` - ูุญุต ุญุงูุฉ MongoDB ูุน timeout ูุญุณู
- `POST /api/backup/local` - ูุณุฎ ุงุญุชูุงุทู ูุญูู (ุจุฏูู MongoDB)
- `POST /api/backup/smart` - ูุณุฎ ุงุญุชูุงุทู ุฐูู (MongoDB ุฅุฐุง ูุชุงุญุ ูุญูู ุฅุฐุง ูู ููู ูุชุงุญ)

### ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชูููุฏู:
- `POST /api/backup/upload` - ุฑูุน ุงูุจูุงูุงุช ุฅูู MongoDB
- `POST /api/backup/download` - ุชุญููู ุงูุจูุงูุงุช ูู MongoDB
- `POST /api/backup/sync` - ูุฒุงููุฉ ุงูุจูุงูุงุช ูุน MongoDB

---

## ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

ุงููุธุงู ุงูุขู ูุณุชุฎุฏู ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุฐูู ุชููุงุฆูุงู:
- ูู 5 ุฏูุงุฆู
- ุนูุฏ ุจุฏุก ุงูุชุดุบูู
- ูุนูู ูุน ุฃู ุจุฏูู MongoDB

---

## ููุงุญุธุงุช ูููุฉ

1. **MongoDB ุงุฎุชูุงุฑู:** ุงููุธุงู ูุนูู ุจุฏูู MongoDB
2. **ุงููุณุฎ ุงููุญูู:** ูุชู ุญูุธู ูู `data/backups/`
3. **ุงููุณุฎ ุงูุฐูู:** ูุฎุชุงุฑ ุฃูุถู ุทุฑููุฉ ุชููุงุฆูุงู
4. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก:** ุฑุณุงุฆู ูุงุถุญุฉ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
5. **Timeout:** 5 ุซูุงู ููุงุชุตุงู ุจู MongoDB

---

## ุงุฎุชุจุงุฑ ุงููุธุงู

ุฌููุน endpoints ุชู ุงุฎุชุจุงุฑูุง ูุชุนูู ุจุดูู ุตุญูุญ:
- โ ูุญุต ุญุงูุฉ MongoDB
- โ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงููุญูู
- โ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุฐูู
- โ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

ุงููุธุงู ุงูุขู ูุนูู ุจุดูู ููุซูู ูุน ุฃู ุจุฏูู MongoDB! ๐
